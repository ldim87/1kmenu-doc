# Файловая структура

## index.php
Главный маршрутизатор и конструктор страниц. Более подробно читай [здесь](fs/index.md).

## script.php
Главный обработчик форм и аяксовых запросов. Более подробно читай [здесь](fs/script.md).

## composer.json
Список зависимостей для библиотек PHP ([Composer](https://getcomposer.org)).

## Папка /sys/
Основная папка движка.

### Файлы
* /sys/**param.ini** - Общие [настройки сайта](/globals?id=globals39param39). Эти настройки кэшируются и могут настраиваться на каждой площадке отдельно.
* /sys/**vars.php** - Дополнительные [настройки сайта](/globals?id=globals39param_general39). Эти настройки **не кэшируются** и **не могут** быть настроены отдельно на каждой площадке.
* /sys/**param.php** - Настройки подключения к базе данных
* /sys/**param_memcached.php** - Настройки подключения к серверам кэша memcached

### /sys/html/
Файлы сценария страниц, загружаемые главным маршрутизатором **/index.php**. Читай более подбробно о [маршрутизации](fs/index).

### /sys/script/
Файлы сценария обработки форм и аяксовых запросов главным обработчиком **/script.php**. Более подробно читай [здесь](fs/script.md).

#### /sys/script/free/
Скрипты в этой папке доступны для выполнения всем (публичные).

#### /sys/script/user/
Скрипты в этой папке доступны для выполнения только зарегистрированным пользователям.

#### /sys/script/admin/
Скрипты в этой папке доступны для выполнения только привилегированным пользователям (модераторы и администраторы).

### /sys/tema/
Файлы шаблонов страниц. Более подробно читай [здесь](/globals?id=globals39body3939tema39).

### /sys/include/
Файлы дополнительных классов, ф-ций и инклюдов. Более подробно читай на [странице описания PHP классов](http://vgit1.aynos.cz/phpdoc/1kmenu/)

## Папка /style/
Папка для статических файлов отрисовки шаблонов страниц, такие как яваскрипты JS, стили CSS и изображения стилей - фоны, плитки итд. Файлы и подпапки синхронизируются со статическим CDN:  
//static.1000.menu/style/...

### /style/js/
Файлы яваскриптов (JS)

### /style/css/
Файлы стилей (CSS)

### /style/images/
Файлы изображений стилей CSS - фоны, плитки итд.

## Папка /img/
Папка с изображениями

* картинки материалов (рецепты, советы, статьи)
* другие изображения

Файлы и подпапки синхронизируются со статическим CDN:  
//static.1000.menu/img/...

## Папка /files/
Папка со статическими файлами

* загруженное пользователем (аватары, кулинарная книга)
* остальные статические файлы

Файлы и подпапки синхронизируются со статическим CDN:  
//static.1000.menu/files/...

## Папка /cache/
Файлы кэша. Каждый PHP нод имеет свою собственную папку, поэтому здесь должен находиться только детерменистичный кэш, иначе пользователи с разных нодов могут увидеть разный контент. Файлы старше 30 дней автоматически удаляются. Файлы **не доступны** через браузер!

## Папка /tmp/
Временные файлы. Служит напр. для загрузки файлов или создания временных файлов. Файлы старше 24 часов автоматически удаляются. Каждый PHP нод имеет свою собственную папку. Файлы **доступны** через браузер а также через укороченный алиас папки "**/t/...**"

